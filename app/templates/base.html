<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link href="{{ url_for('static', filename='css/output.css') }}" rel="stylesheet">
    <script src="https://kit.fontawesome.com/aee6406d64.js" crossorigin="anonymous"></script>    
</head>

<body class="bg-light-gray font-sans">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-md hidden md:block">
            <div class="p-4">
                <h2 class="text-xl font-bold text-soft-blue">ContentIdeaHub</h2>
            </div>
            <nav class="mt-4">
                <a href="{{ url_for('main.index') }}"
                    class="flex items-center p-4 text-gray-700 hover:bg-soft-blue hover:text-white">
                    <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
                </a>
                <a href="{{ url_for('main.new_idea') }}"
                    class="flex items-center p-4 text-gray-700 hover:bg-soft-blue hover:text-white">
                    <i class="fas fa-plus mr-2"></i> Add Idea
                </a>
                <!-- main.import_ideas -->
                <a href="{{ url_for('main.import_ideas') }}"
                    class="flex items-center p-4 text-gray-700 hover:bg-soft-blue hover:text-white">
                    <i class="fas fa-file-import mr-2"></i> Import CSV
                </a>
                <a href="{{ url_for('main.export_ideas') }}"
                    class="flex items-center p-4 text-gray-700 hover:bg-soft-blue hover:text-white">
                    <i class="fas fa-file-export mr-2"></i> Export CSV
                </a>
                <a href="{{ url_for('main.logout') }}"
                    class="flex items-center p-4 text-gray-700 hover:bg-soft-blue hover:text-white">
                    <i class="fas fa-sign-out-alt mr-2"></i> Logout
                </a>
            </nav>
        </aside>
        <!-- Mobile Menu -->
        <div class="md:hidden">
            <nav class="bg-white shadow-md p-4">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-bold text-soft-blue">ContentIdeaHub</h2>
                    <button id="menu-toggle" class="text-gray-700">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div id="mobile-menu" class="hidden mt-4">
                    <a href="{{ url_for('main.index') }}"
                        class="block p-2 text-gray-700 hover:bg-soft-blue hover:text-white">Dashboard</a>
                    <a href="{{ url_for('main.new_idea') }}"
                        class="block p-2 text-gray-700 hover:bg-soft-blue hover:text-white">Add Idea</a>
                    <a href=""
                        class="block p-2 text-gray-700 hover:bg-soft-blue hover:text-white">Import CSV</a>
                    <a href=""
                        class="block p-2 text-gray-700 hover:bg-soft-blue hover:text-white">Export CSV</a>
                    <a href="{{ url_for('main.logout') }}"
                        class="block p-2 text-gray-700 hover:bg-soft-blue hover:text-white">Logout</a>
                </div>
            </nav>
        </div>
        <!-- Main Content -->
        <main class="flex-1 p-6">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div
                class="bg-{{ 'soft-green' if category == 'success' else 'danger-red' }} text-white p-4 rounded-lg mb-4 flex items-center">
                <i class="fas {{ 'fa-check-circle' if category == 'success' else 'fa-exclamation-circle' }} mr-2"></i>
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}
            {% block content %}{% endblock %}
        </main>
    </div>
    <script>
        document.getElementById('menu-toggle').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
    </script>
</body>

</html>